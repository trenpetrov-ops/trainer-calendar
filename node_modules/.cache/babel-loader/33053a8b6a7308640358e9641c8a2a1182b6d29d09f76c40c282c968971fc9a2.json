{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0418\\u043B\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\trainer-calendar\\\\src\\\\TrainerCalendar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { addDays, startOfWeek, format, addWeeks, subWeeks } from \"date-fns\";\nimport ruLocale from \"date-fns/locale/ru\";\n\n// Теперь поддерживаются пакеты занятий (10 или 20).\n// Хранится история пакетов для каждого клиента.\n// В расписании показывается номер текущего занятия.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TrainerCalendar() {\n  _s();\n  const [anchorDate, setAnchorDate] = useState(new Date());\n\n  // bookings: { id, dateISO, hour, clientName, packageIndex, sessionNumber }\n  const [bookings, setBookings] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"trainer_bookings_v7\") || \"[]\");\n    } catch {\n      return [];\n    }\n  });\n\n  // packages: { [clientName]: [ { size, used } ] }\n  const [packages, setPackages] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"trainer_packages_v4\") || \"{}\");\n    } catch {\n      return {};\n    }\n  });\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalDate, setModalDate] = useState(null);\n  const [modalHour, setModalHour] = useState(9);\n  const [modalClient, setModalClient] = useState(\"\");\n  const [packageModalOpen, setPackageModalOpen] = useState(false);\n  const [packageClient, setPackageClient] = useState(\"\");\n  const [packageSize, setPackageSize] = useState(10);\n  useEffect(() => {\n    localStorage.setItem(\"trainer_bookings_v7\", JSON.stringify(bookings));\n  }, [bookings]);\n  useEffect(() => {\n    localStorage.setItem(\"trainer_packages_v4\", JSON.stringify(packages));\n  }, [packages]);\n  function startOfWeekFor(date) {\n    return startOfWeek(date, {\n      weekStartsOn: 1\n    });\n  }\n  function weekDays(baseDate) {\n    const start = startOfWeekFor(baseDate);\n    return Array.from({\n      length: 7\n    }).map((_, i) => addDays(start, i));\n  }\n  const HOURS = Array.from({\n    length: 15\n  }).map((_, i) => 7 + i);\n  function formatHourForTH(hour) {\n    return `${String(hour).padStart(2, \"0\")}:00`;\n  }\n  function formatHourForRU(thHour) {\n    const ru = (thHour + 4) % 24;\n    return `${String(ru).padStart(2, \"0\")}:00`;\n  }\n  function openBookingModal(date, hour) {\n    setModalDate(date);\n    setModalHour(hour);\n    setModalClient(\"\");\n    setModalOpen(true);\n  }\n  function addBooking() {\n    const name = modalClient.trim();\n    if (!name) return;\n    const pkgList = packages[name] || [];\n    const currentPkg = pkgList[pkgList.length - 1];\n    if (!currentPkg) {\n      alert(\"Сначала нужно добавить пакет для этого клиента!\");\n      return;\n    }\n    if (currentPkg.used >= currentPkg.size) {\n      alert(\"У клиента закончился пакет! Добавьте новый пакет.\");\n      return;\n    }\n    const dateISO = modalDate.toISOString().slice(0, 10);\n    const exists = bookings.some(b => b.dateISO === dateISO && b.hour === modalHour);\n    if (exists) {\n      alert(\"На это время уже есть запись!\");\n      return;\n    }\n    const id = Date.now() + \"-\" + Math.random().toString(36).slice(2, 9);\n    const sessionNumber = currentPkg.used + 1;\n    const newBooking = {\n      id,\n      dateISO,\n      hour: modalHour,\n      clientName: name,\n      packageIndex: pkgList.length - 1,\n      sessionNumber\n    };\n    const newBookings = [...bookings, newBooking];\n    setBookings(newBookings);\n    setPackages(p => {\n      const updated = [...pkgList];\n      updated[updated.length - 1] = {\n        ...currentPkg,\n        used: currentPkg.used + 1\n      };\n      return {\n        ...p,\n        [name]: updated\n      };\n    });\n    setModalOpen(false);\n  }\n  function bookingsForDayHour(date, hour) {\n    const dateISO = date.toISOString().slice(0, 10);\n    return bookings.filter(b => b.dateISO === dateISO && b.hour === hour);\n  }\n  function cancelBooking(id) {\n    const booking = bookings.find(x => x.id === id);\n    if (!booking) return;\n    if (!window.confirm(\"Удалить запись?\")) return;\n    const {\n      clientName,\n      packageIndex\n    } = booking;\n    const newBookings = bookings.filter(x => x.id !== id);\n\n    // пересчёт пакета\n    const pkgList = packages[clientName] || [];\n    if (pkgList[packageIndex]) {\n      const updatedPkgList = [...pkgList];\n      updatedPkgList[packageIndex] = {\n        ...updatedPkgList[packageIndex],\n        used: Math.max(0, updatedPkgList[packageIndex].used - 1)\n      };\n      setPackages({\n        ...packages,\n        [clientName]: updatedPkgList\n      });\n    }\n\n    // пересчёт sessionNumber для оставшихся занятий клиента\n    const clientBookings = newBookings.filter(b => b.clientName === clientName && b.packageIndex === packageIndex);\n    clientBookings.sort((a, b) => a.dateISO === b.dateISO ? a.hour - b.hour : a.dateISO.localeCompare(b.dateISO));\n    clientBookings.forEach((b, idx) => {\n      b.sessionNumber = idx + 1;\n    });\n    setBookings([...newBookings]);\n  }\n  function clientStats() {\n    const stats = {};\n    for (const [name, pkgList] of Object.entries(packages)) {\n      const currentPkg = pkgList[pkgList.length - 1];\n      if (currentPkg) {\n        stats[name] = `${currentPkg.used}/${currentPkg.size}`;\n      }\n    }\n    return stats;\n  }\n  const stats = clientStats();\n  function openPackageModal(clientName) {\n    setPackageClient(clientName || \"\");\n    setPackageSize(10);\n    setPackageModalOpen(true);\n  }\n  function savePackage() {\n    const name = packageClient.trim();\n    if (!name) return;\n    const pkgList = packages[name] || [];\n    const currentPkg = pkgList[pkgList.length - 1];\n    if (currentPkg && currentPkg.used < currentPkg.size) {\n      alert(\"Нельзя добавить новый пакет, пока старый не израсходован!\");\n      return;\n    }\n    const newPkg = {\n      size: packageSize,\n      used: 0\n    };\n    setPackages(p => ({\n      ...p,\n      [name]: [...(p[name] || []), newPkg]\n    }));\n    setPackageModalOpen(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 font-sans max-w-full overflow-x-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold\",\n        children: \"\\u0422\\u0440\\u0435\\u043D\\u0438\\u0440\\u043E\\u0432\\u043E\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u043B\\u0435\\u043D\\u0434\\u0430\\u0440\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAnchorDate(subWeeks(anchorDate, 1)),\n          className: \"px-2 py-1 bg-gray-100 rounded\",\n          children: \"\\u2190 \\u041D\\u0435\\u0434\\u0435\\u043B\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAnchorDate(new Date()),\n          className: \"px-2 py-1 bg-gray-100 rounded\",\n          children: \"\\u0421\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAnchorDate(addWeeks(anchorDate, 1)),\n          className: \"px-2 py-1 bg-gray-100 rounded\",\n          children: \"\\u041D\\u0435\\u0434\\u0435\\u043B\\u044F \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"border-collapse w-full text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1 bg-[#ebebeb]\",\n            children: [\"\\u0422\\u0430\\u0439\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 62\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"(UTC+7)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"border px-2 py-1 bg-[#ebebeb]\",\n            children: [\"\\u0420\\u0443\\u0441\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 62\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs\",\n              children: \"(UTC+3)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), weekDays(anchorDate).map((day, idx) => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: `border px-2 py-1 ${idx >= 5 ? \"bg-orange-100\" : \"bg-red-100\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold\",\n              children: format(day, \"d LLL\", {\n                locale: ruLocale\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: format(day, \"EEE\", {\n                locale: ruLocale\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: HOURS.map(h => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1 text-center bg-orange-100\",\n            children: formatHourForTH(h)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"border px-2 py-1 text-center bg-orange-100\",\n            children: formatHourForRU(h)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), weekDays(anchorDate).map((day, idx) => /*#__PURE__*/_jsxDEV(\"td\", {\n            className: `border align-top px-2 py-1 ${idx >= 5 ? \"bg-orange-50\" : \"\"}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-1\",\n              children: [bookingsForDayHour(day, h).map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-100 rounded px-1 flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"truncate max-w-[120px]\",\n                  children: [b.clientName, \" #\", b.sessionNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => cancelBooking(b.id),\n                    className: \"text-red-500 text-xs\",\n                    children: \"\\u2715\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this)]\n              }, b.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 23\n              }, this)), bookingsForDayHour(day, h).length === 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openBookingModal(day, h),\n                className: \"text-xs text-green-600\",\n                children: \"+ \\u0434\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this))]\n        }, h, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 p-4 border rounded bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold mb-2\",\n        children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0435\\u0441\\u0441 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u043E\\u0432\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1\",\n        children: [Object.entries(packages).map(([name, pkgList]) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"truncate max-w-[200px] font-semibold\",\n              children: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [pkgList[pkgList.length - 1].used, \"/\", pkgList[pkgList.length - 1].size, \" \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439\", pkgList[pkgList.length - 1].used >= pkgList[pkgList.length - 1].size && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => openPackageModal(name),\n                className: \"ml-2 text-xs text-blue-600 underline\",\n                children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043F\\u0430\\u043A\\u0435\\u0442\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-xs text-gray-600 ml-4 list-disc\",\n            children: pkgList.map((pkg, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"\\u041F\\u0430\\u043A\\u0435\\u0442 \", pkg.size, \": \", pkg.used, \"/\", pkg.size, \" \\u0437\\u0430\\u043D\\u044F\\u0442\\u0438\\u0439\"]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this)]\n        }, name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this)), Object.keys(packages).length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"text-sm text-gray-500\",\n          children: \"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 50\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 mt-2\",\n        children: \"\\u0420\\u0430\\u0437\\u043D\\u0438\\u0446\\u0430 \\u043C\\u0435\\u0436\\u0434\\u0443 \\u0422\\u0430\\u0439\\u043B\\u0430\\u043D\\u0434\\u043E\\u043C \\u0438 \\u041C\\u043E\\u0441\\u043A\\u0432\\u043E\\u0439: 4 \\u0447\\u0430\\u0441\\u0430 (\\u043D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440, 09:00 TH = 13:00 RU).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => openPackageModal(\"\"),\n          className: \"text-xs text-green-600\",\n          children: \"+ \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0430\\u043A\\u0435\\u0442 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this), modalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/40 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded w-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u043F\\u0438\\u0441\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm mb-2\",\n          children: [modalDate && format(modalDate, \"d LLL (EEE)\", {\n            locale: ruLocale\n          }), \" \\u2014 \", formatHourForTH(modalHour), \" (TH) / \", formatHourForRU(modalHour), \" (RU)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: modalClient,\n          onChange: e => setModalClient(e.target.value),\n          placeholder: \"\\u0418\\u043C\\u044F \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\",\n          className: \"border w-full px-2 py-1 rounded mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: addBooking,\n            className: \"flex-1 bg-blue-600 text-white py-1 rounded\",\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setModalOpen(false),\n            className: \"flex-1 bg-gray-200 py-1 rounded\",\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 9\n    }, this), packageModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/40 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded w-80\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0430\\u043A\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: packageClient,\n          onChange: e => setPackageClient(e.target.value),\n          placeholder: \"\\u0418\\u043C\\u044F \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0430\",\n          className: \"border w-full px-2 py-1 rounded mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: packageSize,\n          onChange: e => setPackageSize(Number(e.target.value)),\n          className: \"border w-full px-2 py-1 rounded mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 10,\n            children: \"\\u041F\\u0430\\u043A\\u0435\\u0442 10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 20,\n            children: \"\\u041F\\u0430\\u043A\\u0435\\u0442 20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: savePackage,\n            className: \"flex-1 bg-blue-600 text-white py-1 rounded\",\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setPackageModalOpen(false),\n            className: \"flex-1 bg-gray-200 py-1 rounded\",\n            children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n}\n_s(TrainerCalendar, \"xuCksGvhn/wfga83htcHeeL3NIU=\");\n_c = TrainerCalendar;\nvar _c;\n$RefreshReg$(_c, \"TrainerCalendar\");","map":{"version":3,"names":["React","useState","useEffect","addDays","startOfWeek","format","addWeeks","subWeeks","ruLocale","jsxDEV","_jsxDEV","TrainerCalendar","_s","anchorDate","setAnchorDate","Date","bookings","setBookings","JSON","parse","localStorage","getItem","packages","setPackages","modalOpen","setModalOpen","modalDate","setModalDate","modalHour","setModalHour","modalClient","setModalClient","packageModalOpen","setPackageModalOpen","packageClient","setPackageClient","packageSize","setPackageSize","setItem","stringify","startOfWeekFor","date","weekStartsOn","weekDays","baseDate","start","Array","from","length","map","_","i","HOURS","formatHourForTH","hour","String","padStart","formatHourForRU","thHour","ru","openBookingModal","addBooking","name","trim","pkgList","currentPkg","alert","used","size","dateISO","toISOString","slice","exists","some","b","id","now","Math","random","toString","sessionNumber","newBooking","clientName","packageIndex","newBookings","p","updated","bookingsForDayHour","filter","cancelBooking","booking","find","x","window","confirm","updatedPkgList","max","clientBookings","sort","a","localeCompare","forEach","idx","clientStats","stats","Object","entries","openPackageModal","savePackage","newPkg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","day","locale","h","pkg","keys","type","value","onChange","e","target","placeholder","Number","_c","$RefreshReg$"],"sources":["C:/Users/Ил/OneDrive/Рабочий стол/trainer-calendar/src/TrainerCalendar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { addDays, startOfWeek, format, addWeeks, subWeeks } from \"date-fns\";\nimport ruLocale from \"date-fns/locale/ru\";\n\n// Теперь поддерживаются пакеты занятий (10 или 20).\n// Хранится история пакетов для каждого клиента.\n// В расписании показывается номер текущего занятия.\n\nexport default function TrainerCalendar() {\n  const [anchorDate, setAnchorDate] = useState(new Date());\n\n  // bookings: { id, dateISO, hour, clientName, packageIndex, sessionNumber }\n  const [bookings, setBookings] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"trainer_bookings_v7\") || \"[]\");\n    } catch {\n      return [];\n    }\n  });\n\n  // packages: { [clientName]: [ { size, used } ] }\n  const [packages, setPackages] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(\"trainer_packages_v4\") || \"{}\");\n    } catch {\n      return {};\n    }\n  });\n\n  const [modalOpen, setModalOpen] = useState(false);\n  const [modalDate, setModalDate] = useState(null);\n  const [modalHour, setModalHour] = useState(9);\n  const [modalClient, setModalClient] = useState(\"\");\n\n  const [packageModalOpen, setPackageModalOpen] = useState(false);\n  const [packageClient, setPackageClient] = useState(\"\");\n  const [packageSize, setPackageSize] = useState(10);\n\n  useEffect(() => {\n    localStorage.setItem(\"trainer_bookings_v7\", JSON.stringify(bookings));\n  }, [bookings]);\n\n  useEffect(() => {\n    localStorage.setItem(\"trainer_packages_v4\", JSON.stringify(packages));\n  }, [packages]);\n\n  function startOfWeekFor(date) {\n    return startOfWeek(date, { weekStartsOn: 1 });\n  }\n\n  function weekDays(baseDate) {\n    const start = startOfWeekFor(baseDate);\n    return Array.from({ length: 7 }).map((_, i) => addDays(start, i));\n  }\n\n  const HOURS = Array.from({ length: 15 }).map((_, i) => 7 + i);\n\n  function formatHourForTH(hour) {\n    return `${String(hour).padStart(2, \"0\")}:00`;\n  }\n  function formatHourForRU(thHour) {\n    const ru = (thHour + 4) % 24;\n    return `${String(ru).padStart(2, \"0\")}:00`;\n  }\n\n  function openBookingModal(date, hour) {\n    setModalDate(date);\n    setModalHour(hour);\n    setModalClient(\"\");\n    setModalOpen(true);\n  }\n\n  function addBooking() {\n    const name = modalClient.trim();\n    if (!name) return;\n\n    const pkgList = packages[name] || [];\n    const currentPkg = pkgList[pkgList.length - 1];\n    if (!currentPkg) {\n      alert(\"Сначала нужно добавить пакет для этого клиента!\");\n      return;\n    }\n    if (currentPkg.used >= currentPkg.size) {\n      alert(\"У клиента закончился пакет! Добавьте новый пакет.\");\n      return;\n    }\n\n    const dateISO = modalDate.toISOString().slice(0, 10);\n    const exists = bookings.some((b) => b.dateISO === dateISO && b.hour === modalHour);\n    if (exists) {\n      alert(\"На это время уже есть запись!\");\n      return;\n    }\n\n    const id = Date.now() + \"-\" + Math.random().toString(36).slice(2, 9);\n    const sessionNumber = currentPkg.used + 1;\n    const newBooking = {\n      id,\n      dateISO,\n      hour: modalHour,\n      clientName: name,\n      packageIndex: pkgList.length - 1,\n      sessionNumber,\n    };\n\n    const newBookings = [...bookings, newBooking];\n    setBookings(newBookings);\n    setPackages((p) => {\n      const updated = [...pkgList];\n      updated[updated.length - 1] = {\n        ...currentPkg,\n        used: currentPkg.used + 1,\n      };\n      return { ...p, [name]: updated };\n    });\n\n    setModalOpen(false);\n  }\n\n  function bookingsForDayHour(date, hour) {\n    const dateISO = date.toISOString().slice(0, 10);\n    return bookings.filter((b) => b.dateISO === dateISO && b.hour === hour);\n  }\n\n  function cancelBooking(id) {\n    const booking = bookings.find((x) => x.id === id);\n    if (!booking) return;\n    if (!window.confirm(\"Удалить запись?\")) return;\n\n    const { clientName, packageIndex } = booking;\n    const newBookings = bookings.filter((x) => x.id !== id);\n\n    // пересчёт пакета\n    const pkgList = packages[clientName] || [];\n    if (pkgList[packageIndex]) {\n      const updatedPkgList = [...pkgList];\n      updatedPkgList[packageIndex] = {\n        ...updatedPkgList[packageIndex],\n        used: Math.max(0, updatedPkgList[packageIndex].used - 1),\n      };\n      setPackages({ ...packages, [clientName]: updatedPkgList });\n    }\n\n    // пересчёт sessionNumber для оставшихся занятий клиента\n    const clientBookings = newBookings.filter((b) => b.clientName === clientName && b.packageIndex === packageIndex);\n    clientBookings.sort((a, b) => (a.dateISO === b.dateISO ? a.hour - b.hour : a.dateISO.localeCompare(b.dateISO)));\n    clientBookings.forEach((b, idx) => {\n      b.sessionNumber = idx + 1;\n    });\n\n    setBookings([...newBookings]);\n  }\n\n  function clientStats() {\n    const stats = {};\n    for (const [name, pkgList] of Object.entries(packages)) {\n      const currentPkg = pkgList[pkgList.length - 1];\n      if (currentPkg) {\n        stats[name] = `${currentPkg.used}/${currentPkg.size}`;\n      }\n    }\n    return stats;\n  }\n\n  const stats = clientStats();\n\n  function openPackageModal(clientName) {\n    setPackageClient(clientName || \"\");\n    setPackageSize(10);\n    setPackageModalOpen(true);\n  }\n\n  function savePackage() {\n    const name = packageClient.trim();\n    if (!name) return;\n    const pkgList = packages[name] || [];\n    const currentPkg = pkgList[pkgList.length - 1];\n    if (currentPkg && currentPkg.used < currentPkg.size) {\n      alert(\"Нельзя добавить новый пакет, пока старый не израсходован!\");\n      return;\n    }\n    const newPkg = { size: packageSize, used: 0 };\n    setPackages((p) => ({ ...p, [name]: [...(p[name] || []), newPkg] }));\n    setPackageModalOpen(false);\n  }\n\n  return (\n    <div className=\"p-4 font-sans max-w-full overflow-x-auto\">\n      <header className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-xl font-bold\">Тренировочный календарь</h1>\n        <div className=\"flex gap-2\">\n          <button onClick={() => setAnchorDate(subWeeks(anchorDate, 1))} className=\"px-2 py-1 bg-gray-100 rounded\">← Неделя</button>\n          <button onClick={() => setAnchorDate(new Date())} className=\"px-2 py-1 bg-gray-100 rounded\">Сегодня</button>\n          <button onClick={() => setAnchorDate(addWeeks(anchorDate, 1))} className=\"px-2 py-1 bg-gray-100 rounded\">Неделя →</button>\n        </div>\n      </header>\n\n      <table className=\"border-collapse w-full text-sm\">\n        <thead>\n          <tr>\n            <th className=\"border px-2 py-1 bg-[#ebebeb]\">Тай<br/><span className=\"text-xs\">(UTC+7)</span></th>\n            <th className=\"border px-2 py-1 bg-[#ebebeb]\">Рус<br/><span className=\"text-xs\">(UTC+3)</span></th>\n            {weekDays(anchorDate).map((day, idx) => (\n              <th key={idx} className={`border px-2 py-1 ${idx >= 5 ? \"bg-orange-100\" : \"bg-red-100\"}`}>\n                <div className=\"font-bold\">{format(day, \"d LLL\", { locale: ruLocale })}</div>\n                <div>{format(day, \"EEE\", { locale: ruLocale })}</div>\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {HOURS.map((h) => (\n            <tr key={h}>\n              <td className=\"border px-2 py-1 text-center bg-orange-100\">{formatHourForTH(h)}</td>\n              <td className=\"border px-2 py-1 text-center bg-orange-100\">{formatHourForRU(h)}</td>\n              {weekDays(anchorDate).map((day, idx) => (\n                <td key={idx} className={`border align-top px-2 py-1 ${idx >= 5 ? \"bg-orange-50\" : \"\"}`}>\n                  <div className=\"flex flex-col gap-1\">\n                    {bookingsForDayHour(day, h).map((b) => (\n                      <div key={b.id} className=\"bg-blue-100 rounded px-1 flex justify-between items-center\">\n                        <span className=\"truncate max-w-[120px]\">{b.clientName} #{b.sessionNumber}</span>\n                        <div className=\"flex items-center gap-2\">\n                          <button onClick={() => cancelBooking(b.id)} className=\"text-red-500 text-xs\">✕</button>\n                        </div>\n                      </div>\n                    ))}\n                    {bookingsForDayHour(day, h).length === 0 && (\n                      <button onClick={() => openBookingModal(day, h)} className=\"text-xs text-green-600\">+ добавить</button>\n                    )}\n                  </div>\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"mt-6 p-4 border rounded bg-gray-50\">\n        <h2 className=\"font-semibold mb-2\">Прогресс клиентов</h2>\n        <ul className=\"space-y-1\">\n          {Object.entries(packages).map(([name, pkgList]) => (\n            <li key={name} className=\"flex flex-col\">\n              <div className=\"flex justify-between\">\n                <span className=\"truncate max-w-[200px] font-semibold\">{name}</span>\n                <span>\n                  {pkgList[pkgList.length - 1].used}/{pkgList[pkgList.length - 1].size} занятий\n                  {pkgList[pkgList.length - 1].used >= pkgList[pkgList.length - 1].size && (\n                    <button\n                      onClick={() => openPackageModal(name)}\n                      className=\"ml-2 text-xs text-blue-600 underline\"\n                    >\n                      Новый пакет\n                    </button>\n                  )}\n                </span>\n              </div>\n              <ul className=\"text-xs text-gray-600 ml-4 list-disc\">\n                {pkgList.map((pkg, i) => (\n                  <li key={i}>\n                    Пакет {pkg.size}: {pkg.used}/{pkg.size} занятий\n                  </li>\n                ))}\n              </ul>\n            </li>\n          ))}\n          {Object.keys(packages).length === 0 && <li className=\"text-sm text-gray-500\">Нет данных</li>}\n        </ul>\n        <div className=\"text-xs text-gray-500 mt-2\">Разница между Тайландом и Москвой: 4 часа (например, 09:00 TH = 13:00 RU).</div>\n        <div className=\"mt-2\">\n          <button onClick={() => openPackageModal(\"\")} className=\"text-xs text-green-600\">+ Добавить пакет клиенту</button>\n        </div>\n      </div>\n\n      {modalOpen && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-4 rounded w-80\">\n            <h3 className=\"font-semibold mb-2\">Добавить запись</h3>\n            <p className=\"text-sm mb-2\">{modalDate && format(modalDate, \"d LLL (EEE)\", { locale: ruLocale })} — {formatHourForTH(modalHour)} (TH) / {formatHourForRU(modalHour)} (RU)</p>\n            <input\n              type=\"text\"\n              value={modalClient}\n              onChange={(e) => setModalClient(e.target.value)}\n              placeholder=\"Имя клиента\"\n              className=\"border w-full px-2 py-1 rounded mb-3\"\n            />\n            <div className=\"flex gap-2\">\n              <button onClick={addBooking} className=\"flex-1 bg-blue-600 text-white py-1 rounded\">Сохранить</button>\n              <button onClick={() => setModalOpen(false)} className=\"flex-1 bg-gray-200 py-1 rounded\">Отмена</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {packageModalOpen && (\n        <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-4 rounded w-80\">\n            <h3 className=\"font-semibold mb-2\">Добавить пакет</h3>\n            <input\n              type=\"text\"\n              value={packageClient}\n              onChange={(e) => setPackageClient(e.target.value)}\n              placeholder=\"Имя клиента\"\n              className=\"border w-full px-2 py-1 rounded mb-3\"\n            />\n            <select\n              value={packageSize}\n              onChange={(e) => setPackageSize(Number(e.target.value))}\n              className=\"border w-full px-2 py-1 rounded mb-3\"\n            >\n              <option value={10}>Пакет 10</option>\n              <option value={20}>Пакет 20</option>\n            </select>\n            <div className=\"flex gap-2\">\n              <button onClick={savePackage} className=\"flex-1 bg-blue-600 text-white py-1 rounded\">Сохранить</button>\n              <button onClick={() => setPackageModalOpen(false)} className=\"flex-1 bg-gray-200 py-1 rounded\">Отмена</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}